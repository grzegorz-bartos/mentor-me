{% extends 'base.html' %}
{% load static %}
{% block content %}
    <main class="main">
        <!-- Page Title -->
        <div class="page-title" data-aos="fade">
            <div class="heading">
                <div class="container">
                    <div class="row d-flex justify-content-center text-center">
                        <div class="col-lg-8">
                            <h1>Membership Plans</h1>
                            <p class="mb-0">
                                Select the account that best suits your needs. Whether youâ€™re a student looking for guidance,
                                a tutor wanting to offer your expertise, a freelancer ready for new job opportunities,
                                or a mentor to share your experience, our flexible plans empower your growth.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <nav class="breadcrumbs">
                <div class="container">
                    <ol>
                        <li>
                            <a href="{% url 'home' %}">Home</a>
                        </li>
                        <li class="current">Pricing</li>
                    </ol>
                </div>
            </nav>
        </div>
        <!-- End Page Title -->
        <!-- Pricing Section -->
        <section id="pricing" class="pricing section">
            <div class="container">
                <div class="row gy-3">
                    {# -------- Student -------- #}
                    <div class="col-xl-3 col-lg-6" data-aos="fade-up" data-aos-delay="100">
                        <div class="pricing-item{% if user.is_authenticated and current_plan_level == 1 %} featured{% endif %}">
                            <h3>Student</h3>
                            <h4>
                                <sup>$</sup>0<span>/ month</span>
                            </h4>
                            <ul>
                                <li>Browse offers from tutors and mentors.</li>
                                <li>Post jobs and project requests for freelancers.</li>
                                <li>Secure payments handled through the platform</li>
                                <li class="na">List tutoring services</li>
                                <li class="na">Access and take jobs</li>
                            </ul>
                            <div class="btn-wrap">
                                {% if user.is_authenticated and current_plan_level == 1 %}
                                    <button class="btn-buy" disabled>Current plan</button>
                                {% elif user.is_authenticated %}
                                    <form method="post"
                                          action="{% url 'change-plan' 1 %}?next={{ request.path }}">
                                        {% csrf_token %}
                                        <button type="submit" class="btn-buy">Choose Student</button>
                                    </form>
                                {% else %}
                                    <a href="{% url 'login' %}?next={{ request.path }}" class="btn-buy">Choose Student</a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    {# -------- Tutor -------- #}
                    <div class="col-xl-3 col-lg-6" data-aos="fade-up" data-aos-delay="200">
                        <div class="pricing-item{% if user.is_authenticated and current_plan_level == 2 %} featured{% endif %}">
                            <h3>Tutor</h3>
                            <h4>
                                <sup>$</sup>19<span>/ month</span>
                            </h4>
                            <ul>
                                <li>Post and manage tutoring offers.</li>
                                <li>Get inquiries directly from interested students.</li>
                                <li>Secure payments handled through the platform.</li>
                                <li>Receive notifications when students engage.</li>
                                <li class="na">Browse and apply for student-posted jobs.</li>
                            </ul>
                            <div class="btn-wrap">
                                {% if user.is_authenticated and current_plan_level == 2 %}
                                    <button class="btn-buy" disabled>Current plan</button>
                                {% elif user.is_authenticated %}
                                    <form method="post"
                                          action="{% url 'change-plan' 2 %}?next={{ request.path }}">
                                        {% csrf_token %}
                                        <button type="submit" class="btn-buy">Choose Tutor</button>
                                    </form>
                                {% else %}
                                    <a href="{% url 'login' %}?next={{ request.path }}" class="btn-buy">Choose Tutor</a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    {# -------- Freelancer -------- #}
                    <div class="col-xl-3 col-lg-6" data-aos="fade-up" data-aos-delay="300">
                        <div class="pricing-item{% if user.is_authenticated and current_plan_level == 3 %} featured{% endif %}">
                            <h3>Freelancer</h3>
                            <h4>
                                <sup>$</sup>29<span>/ month</span>
                            </h4>
                            <ul>
                                <li>Post offers for tutoring or freelance projects.</li>
                                <li>Browse and apply for student-posted jobs.</li>
                                <li>Secure payments handled through the platform.</li>
                                <li>Priority notifications for new job postings.</li>
                                <li class="na">Feature your profile on the dedicated mentor page.</li>
                            </ul>
                            <div class="btn-wrap">
                                {% if user.is_authenticated and current_plan_level == 3 %}
                                    <button class="btn-buy" disabled>Current plan</button>
                                {% elif user.is_authenticated %}
                                    <form method="post"
                                          action="{% url 'change-plan' 3 %}?next={{ request.path }}">
                                        {% csrf_token %}
                                        <button type="submit" class="btn-buy">Choose Freelancer</button>
                                    </form>
                                {% else %}
                                    <a href="{% url 'login' %}?next={{ request.path }}" class="btn-buy">Choose Freelancer</a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    {# -------- Mentor -------- #}
                    <div class="col-xl-3 col-lg-6" data-aos="fade-up" data-aos-delay="400">
                        <div class="pricing-item{% if user.is_authenticated and current_plan_level == 4 %} featured{% endif %}">
                            <span class="advanced">Advanced</span>
                            <h3>Mentor</h3>
                            <h4>
                                <sup>$</sup>49<span>/ month</span>
                            </h4>
                            <ul>
                                <li>Feature your profile on the dedicated mentor page.</li>
                                <li>Receive direct inquiries from students.</li>
                                <li>Secure payments handled through the platform</li>
                                <li>Offer mentorship via monthly subscriptions or per-session bookings.</li>
                                <li>List tutoring, freelance, and mentoring services</li>
                            </ul>
                            <div class="btn-wrap">
                                {% if user.is_authenticated and current_plan_level == 4 %}
                                    <button class="btn-buy" disabled>Current plan</button>
                                {% elif user.is_authenticated %}
                                    <form method="post"
                                          action="{% url 'change-plan' 4 %}?next={{ request.path }}">
                                        {% csrf_token %}
                                        <button type="submit" class="btn-buy">Choose Mentor</button>
                                    </form>
                                {% else %}
                                    <a href="{% url 'login' %}?next={{ request.path }}" class="btn-buy">Choose Mentor</a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- /Pricing Section -->
    </main>
{% endblock %}
